<?php
$contents = file_get_contents("http://www.uschess.org/assets/msa_joomla/MbrDtlMain.php?14819401");
$doc = new DOMDocument();
$doc->loadHTML('<?xml encoding="UTF-8">' . $contents);
$pos = strpos($doc->textContent, "Regular Rating", 1);
$string = substr($doc->textContent, $pos, 23);
$string = str_replace("\n", "", $string);
$regularRating = "Regular Rating: ".substr($string, 14, 4);
$pos = strpos($doc->textContent, "Quick Rating", 1);
$string = substr($doc->textContent, $pos, 23);
$string = str_replace("\n", "", $string);
$quickRating = "Quick Rating: ".substr($string, 12, 4);
$pos = strpos($doc->textContent, "Blitz Rating", 1);
$string = substr($doc->textContent, $pos, 23);
$string = str_replace("\n", "", $string);
$blitzRating = "Blitz Rating: ".substr($string, 12, 4);
?>

<script type="text/javascript" src="http://chesstempo.com/js/pgnyui.js"></script>
<script type="text/javascript" src="http://chesstempo.com/js/pgnviewer.js"></script>  
<link type="text/css" rel="stylesheet" href="http://chesstempo.com/css/board-min.css"></link> 
<div class="row">
    <a href="http://www.uschess.org/assets/msa_joomla/MbrDtlMain.php?14819401" target="_blank">Click here to view my current USCF information</a>
</div>
<div class="row" style="margin-top:15px;">
    <strong><u>Current Published Rating</u></strong><br />
    <?php
    print $regularRating . '<br />';
    print $quickRating . '<br />';
    print $blitzRating . '<br />';
    ?>
</div>
<?php
echo $this->partial('zfc-datagrid/renderer/bootstrapTable/layout', 
                    $this->viewModel()->getCurrent()->getVariables()); 
?>
<script type="text/javascript">
$(document).ready(function() {
    setTimeout(function(){
       $(".nav li").attr("class", "");  
       $("#chessNav").attr("class", "active"); 
    }, 0);
});
</script>
<style>
    table tr:FIRST-CHILD + tr
{
    display:none;
}
</style>